<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
		<title>无标题文档</title>
	</head>
	
	<style type="text/css">
    .cell {
        float:left;
        background:rgba(255, 255, 255, 0.5);
        margin-left: 1px;
        width:45%;
        border:1px solid #000000;
    }
	
	.cell p {
		margin-top: 2px;
		margin-bottom: 2px;
	}
	
	.text {
		float: left;
	}
	
	.boldText {
		font-weight:600;
		color:red;
	}
    
	.textUnValid{
        text-decoration:line-through;
    }
    
	.cell img {
		float: left;
		width: 20%;
		padding-left: 3%;
		padding-right: 3%;
	}
	</style>
	<script>
		
    // window.onload = function() { refreshWeb(); }
		
    function refreshWeb()
    {
        var dataSource = retriveGiftData();
        
        for (var i = 0; i < dataSource.length; ++i)
        {
            var parentDiv = $("<div></div>");
            
            var left = dataSource[i];
            
            var leftDiv = $("<div></div>");
            
            leftDiv.addClass("cell");
            
            setCell(leftDiv, left);
            
            parentDiv.append(leftDiv);
            
            if (i + 1 < dataSource.length)
            {
                var right = dataSource[i + 1];
                
                var rightDiv = $("<div></div>");
                
                rightDiv.addClass("cell");
                
                setCell(rightDiv, right);
                
                parentDiv.append(rightDiv);
            }
            
            $("body").append(parentDiv);
            
            ++i;
        }
    };
	
	function setCell(div, value)
	{
		var imgDiv = $("<div></div>");
		
		var img = $("<img/>").attr("src", value.image_url);
		
		imgDiv.append(img);
		
		div.append(imgDiv);
		
		var textDiv = $("<div></div>");
		
		textDiv.addClass("text");
		
		var vipCost = $("<p/>").text("会员价" + value.vip_coin);
		
		vipCost.addClass("boldText");
        
        textDiv.append(vipCost);
        
        var cost = $("<p/>").text("会员价" + value.coin);
        
        cost.addClass("textUnValid");
		
		textDiv.append(cost);
		
		var charm = $("<p/>").text("魅力值+" + value.charming);
		
		textDiv.append(charm);
		
		var gold = $("<p/>").text(value.coin + "金豆");
		
		textDiv.append(gold);
        
        var name = $("<p/>").text(value.name);
        
        name.css("color", "yellow");
		
		textDiv.append(name);
		
		div.append(textDiv);
	}
	
		</script>
	
	<body>
		
	</body>
</html>
